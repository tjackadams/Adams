name: adams
registry: tjackadams

ingress:
  - name: ingress
    bindings:
      - port: 80
        name: http
      - port: 443
        name: https
    rules:
      - host: identity.itadams.co.uk
        service: identity-api
      - host: status.itadams.co.uk
        service: webstatus
      - host: app.itadams.co.uk
        service: webblazor

services:

- name: identity-api
  include: Services/Identity/Identity.Api/tye.production.yaml
  liveness:
    http:
      path: /liveness
  readiness:
    http:
      path: /hc
    initialDelay: 1

- name: webstatus
  include: Web/WebStatus/tye.production.yaml
  liveness:
    http:
      path: /liveness

- name: webblazor
  include: Web/WebBlazor/Server/tye.production.yaml